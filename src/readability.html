<script type="text/javascript">
  RED.nodes.registerType('readability',{
    category: 'function',
    color: '#28AFB0',
    defaults: {
      name: {
				value: ''
			}
    },
    inputs: 1,
    outputs: 1,
    icon: 'readability.png',
    label: function() {
      return this.name || 'readability';
    }
  });
</script>

<script type="text/x-red" data-template-name="readability">
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
</script>

<script type="text/x-red" data-help-name="readability">
  <p>
		A node that runs <a href="https://www.npmjs.com/package/readability-js"><code>readability-js</code></a> on the input payload.
	</p>
	<p>
		The output message will be the same as the input but with the following properties attached (if an article was found in the HTML):

		<ul>
			<li><code>title</code> - the article title</li>
			<li><code>content</code> - the article content HTML</li>
			<li><code>text</code> - the article content text</li>
			<li><code>excerpt</code> - the article description from any description, og:description or twitter:description <code>&lt;meta&gt;</code></li>
			<li><code>length</code> - length of article, in characters</li>
		</ul>
	</p>
</script>
